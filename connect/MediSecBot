{"modules":[{"id":"946d13b4-f90b-44b4-afa6-2e7d905c364f","type":"SetVoice","branches":[{"condition":"Success","transition":"925572ae-8dd2-4daa-96f6-e454752fb635"}],"parameters":[{"name":"GlobalVoice","value":"Olivia"},{"name":"GlobalEngine","value":"Neural"},{"name":"SpeakingStyle","value":"None"}],"metadata":{"position":{"x":378,"y":5},"overrideConsoleVoice":true,"defaultVoice":"None"}},{"id":"925572ae-8dd2-4daa-96f6-e454752fb635","type":"PlayPrompt","branches":[{"condition":"Success","transition":"843d8820-6cfe-4b23-9e38-3a140084fbd1"}],"parameters":[{"name":"Text","value":"Hi, welcome to Fitzroy Medical center. Please wait a moment while we look up your patient profile.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":616,"y":8},"useDynamic":false}},{"id":"7449e995-c945-47dd-871f-3c183ba410f1","type":"PlayPrompt","branches":[{"condition":"Success","transition":"75518bf1-eb37-4c12-9880-5051994e7c85"}],"parameters":[{"name":"Text","value":"Great, I've booked your $.External.appointmentType with doctor $.External.doctorName on $.External.appointmentDate at $.External.appointmentTime. When you arrive for your appointment, please wear a face mask and call the clinic, one of our staff will come to escort you inside.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1475,"y":570},"useDynamic":false}},{"id":"843d8820-6cfe-4b23-9e38-3a140084fbd1","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"b1d57809-2d76-49be-8948-9739bc9a11fc"},{"condition":"Error","transition":"471938fe-5fd0-4bc7-96a0-871612d0e268"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-2:088711593565:function:userSearchFunction-dev","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"CustomerNumber","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":842,"y":4},"dynamicMetadata":{"CustomerNumber":true},"useDynamic":false},"target":"Lambda"},{"id":"b1d57809-2d76-49be-8948-9739bc9a11fc","type":"SetAttributes","branches":[{"condition":"Success","transition":"dc16adbf-e260-44f4-b8b0-6791b74b11d1"},{"condition":"Error","transition":"471938fe-5fd0-4bc7-96a0-871612d0e268"}],"parameters":[{"name":"Attribute","value":"firstName","key":"firstName","namespace":"External"},{"name":"Attribute","value":"hasAppointment","key":"hasAppointment","namespace":"External"}],"metadata":{"position":{"x":1075,"y":9}}},{"id":"94812ab0-587d-4713-8330-a17d4d2be915","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"ArriveAppointment","transition":"e38c441d-b0eb-4199-8bfb-99c94838f54e"},{"condition":"NoMatch","transition":"75518bf1-eb37-4c12-9880-5051994e7c85"},{"condition":"Error","transition":"471938fe-5fd0-4bc7-96a0-871612d0e268"}],"parameters":[{"name":"Text","value":"Thanks $.External.firstName, it looks like you have an appointment today with doctor $.External.doctorName . If you have arrived and want to check in, simply say, I've arrived.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"MediSecBot"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"ap-southeast-2"}],"metadata":{"position":{"x":807,"y":750},"conditionMetadata":[{"id":"1981002c-e165-4f8a-aeaa-ad79af19a157","value":"ArriveAppointment"}],"useDynamic":false,"dynamicMetadata":{}},"target":"Lex"},{"id":"eee332fe-fe02-4a0e-8f60-a4207d1fd043","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1933,"y":107}}},{"id":"8ae98604-f860-4d40-a0c2-2e1d7f9f3c98","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"946d13b4-f90b-44b4-afa6-2e7d905c364f"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":158,"y":17}}},{"id":"7689e936-be11-46aa-91ac-f5af70b61553","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"edfd8254-c6a7-40a2-a834-6f9846818d99"},{"condition":"Error","transition":"471938fe-5fd0-4bc7-96a0-871612d0e268"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-2:088711593565:function:covidCheckFunction-dev","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"age","value":"age","namespace":"Lex.Slots"},{"name":"Parameter","key":"emergencySymptoms","value":"emergencySymptoms","namespace":"Lex.Slots"},{"name":"Parameter","key":"regularSymptomOne","value":"regularSymptomOne","namespace":"Lex.Slots"},{"name":"Parameter","key":"regularSymptomTwo","value":"regularSymptomTwo","namespace":"Lex.Slots"}],"metadata":{"position":{"x":1208,"y":317},"dynamicMetadata":{"age":true,"emergencySymptoms":true,"regularSymptomOne":true,"regularSymptomTwo":true},"useDynamic":false},"target":"Lambda"},{"id":"e4de40b3-b6d0-4a15-a10b-734ed8f0baa0","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"7449e995-c945-47dd-871f-3c183ba410f1"},{"condition":"Error","transition":"471938fe-5fd0-4bc7-96a0-871612d0e268"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-2:088711593565:function:appointmentBookFunction-dev","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"Date","value":"Date","namespace":"Lex.Slots"},{"name":"Parameter","key":"AppointmentType","value":"AppointmentType","namespace":"Lex.Slots"},{"name":"Parameter","key":"CustomerNumber","value":"Customer Number","namespace":"System"},{"name":"Parameter","key":"Time","value":"Time","namespace":"Lex.Slots"}],"metadata":{"position":{"x":1200,"y":528},"dynamicMetadata":{"Date":true,"AppointmentType":true,"CustomerNumber":true,"Time":true},"useDynamic":false},"target":"Lambda"},{"id":"75518bf1-eb37-4c12-9880-5051994e7c85","type":"PlayPrompt","branches":[{"condition":"Success","transition":"eee332fe-fe02-4a0e-8f60-a4207d1fd043"}],"parameters":[{"name":"Text","value":"Thanks for calling today $.External.firstName, goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1703,"y":88},"useDynamic":false}},{"id":"471938fe-5fd0-4bc7-96a0-871612d0e268","type":"PlayPrompt","branches":[{"condition":"Success","transition":"eee332fe-fe02-4a0e-8f60-a4207d1fd043"}],"parameters":[{"name":"Text","value":"Sorry, something has gone wrong, please call back later.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1705,"y":252},"useDynamic":false}},{"id":"e38c441d-b0eb-4199-8bfb-99c94838f54e","type":"PlayPrompt","branches":[{"condition":"Success","transition":"75518bf1-eb37-4c12-9880-5051994e7c85"}],"parameters":[{"name":"Text","value":"Great, we will get someone to come down and get you shortly. Please remember to wear your face mask at all times.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1468,"y":759},"useDynamic":false}},{"id":"e89ee66b-f086-45bc-8ceb-5d7736d8d851","type":"PlayPrompt","branches":[{"condition":"Success","transition":"812d0c82-9aca-4764-975d-4f91c161b7b3"}],"parameters":[{"name":"Text","value":"Thanks for waiting $.External.firstName","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":546,"y":323},"useDynamic":false}},{"id":"dc16adbf-e260-44f4-b8b0-6791b74b11d1","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"yes","transition":"94812ab0-587d-4713-8330-a17d4d2be915"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"no","transition":"e89ee66b-f086-45bc-8ceb-5d7736d8d851"},{"condition":"NoMatch","transition":"812d0c82-9aca-4764-975d-4f91c161b7b3"}],"parameters":[{"name":"Attribute","value":"hasAppointment"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":303,"y":281},"conditionMetadata":[{"id":"1c9b5e20-d881-498d-b7df-867c3206db6e","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"yes"},{"id":"0f3a6cb5-63de-40a2-80ee-01faaf95b53b","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"no"}]}},{"id":"812d0c82-9aca-4764-975d-4f91c161b7b3","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"COVIDCheckup","transition":"7689e936-be11-46aa-91ac-f5af70b61553"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"MakeAppointment_enAU","transition":"e4de40b3-b6d0-4a15-a10b-734ed8f0baa0"},{"condition":"NoMatch","transition":"75518bf1-eb37-4c12-9880-5051994e7c85"},{"condition":"Error","transition":"471938fe-5fd0-4bc7-96a0-871612d0e268"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"ArriveAppointment","transition":"e38c441d-b0eb-4199-8bfb-99c94838f54e"}],"parameters":[{"name":"Text","value":"You can book an appointment, get a covid symptom check or notify the clinic that you have arrived. What would you like to do?","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"MediSecBot"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"ap-southeast-2"},{"name":"Parameter","key":"customerPhoneNumber","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":808,"y":307},"conditionMetadata":[{"id":"c1547a73-a274-4005-ba4f-7ed256fd0694","value":"COVIDCheckup"},{"id":"43f09743-1a93-4b4d-8846-2c2f21b73192","value":"MakeAppointment_enAU"},{"id":"de85dac5-8e35-4939-926b-800b16381d20","value":"ArriveAppointment"}],"useDynamic":false,"dynamicMetadata":{"customerPhoneNumber":true}},"target":"Lex"},{"id":"edfd8254-c6a7-40a2-a834-6f9846818d99","type":"PlayPrompt","branches":[{"condition":"Success","transition":"75518bf1-eb37-4c12-9880-5051994e7c85"}],"parameters":[{"name":"Text","value":"textResponse","namespace":"External"},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1470,"y":325},"useDynamic":true}}],"version":"1","type":"contactFlow","start":"8ae98604-f860-4d40-a0c2-2e1d7f9f3c98","metadata":{"entryPointPosition":{"x":19,"y":17},"snapToGrid":false,"name":"MediSecBot","description":null,"type":"contactFlow","status":"published","hash":"0ae5d08820dd2646f9d020090d82351238edeb1ef0c49c959287d7080eb8a353"}}